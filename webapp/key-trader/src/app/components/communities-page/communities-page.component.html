<div class="pageWrapper">
  <div class="page">
    <div *ngIf="userAuthenticated; else elseBlock">
      <app-communities-nav-menu></app-communities-nav-menu>
      <div id="pageWrapper">

        <div class="serverSection">
          <div class="headerWrapper">
            <h2 class="serverHeader">Your Communities that use KeyTrader</h2>
          </div>
          <div class="servers">
            <div *ngIf="loading" class="loading">
              <app-swapping-squares-spinner
                [animationDuration]="1000"
                [size]="40"
                [color]="'#0CDAC2'"
              ></app-swapping-squares-spinner>
            </div>

            <div *ngIf="!loading" class="serversWrapper">
                <mat-card class="serverCard" *ngIf="this.linkedServers.length === 0">
                  <mat-card-header class="serverCardHeader">

                  </mat-card-header>
                  <mat-card-content>
                    <h4 class="serverName">You aren't currently in any KeyTrader Communities :(</h4>
                  </mat-card-content>
                </mat-card>


                <mat-card class="serverCard">
                  <mat-card-header class="serverCardHeader">

                  </mat-card-header>
                  <mat-card-content>
                    <h4 class="serverName">Create a Community Here</h4>
                  </mat-card-content>
                </mat-card>


                <mat-card class="serverCard" *ngFor="let linkedServer of this.linkedServers">
                  <mat-card-header class="serverCardHeader">

                  </mat-card-header>
                  <mat-card-content>
                    <button class="settingsBtn" (click)="serverSettings(linkedServer)"><fa-icon [icon]="settingsIcon"></fa-icon></button>
                    <h4 class="serverName">{{linkedServer.serverName}}</h4>
                  </mat-card-content>
                </mat-card>

              </div>

          </div>
        </div>

      </div>
    </div>
    <ng-template #elseBlock>

      <h2 class="keyHeader" style="flex-grow:0.3">User must log in to view page.</h2>
      <button class="loginBtn" onclick="window.location.href =  '/login-form';">Login with Key Trader</button>

    </ng-template>
  </div>

</div>
